### 前端规范
#### 文件/资源命名

在 web 项目中，所有的文件名应该都遵循同一命名约定。以可读性而言，减号（-）是用来分隔文件名的不二之选。同时它也是常见的 URL 分隔符，所以理所当然的，减号应该也是用来分隔资源名称的好选择。

请确保文件命名总是以字母开头而不是数字。而以特殊字符开头命名的文件，一般都有特殊的含义与用处（比如 compass[1] 中的下划线就是用来标记跳过直接编译的文件用的）。

资源的字母名称必须全为小写，这是因为在某些对大小写字母敏感的操作系统中，当文件通过工具压缩混淆后，或者人为修改过后，大小写不同而导致引用文件不同的错误，很难被发现。

还有一些情况下，需要对文件增加前后缀或特定的扩展名（比如 .min.js, .min.css），抑或一串前缀（比如 3fa89b.main.min.css）。这种情况下，建议使用点分隔符来区分这些在文件名中带有清晰意义的元数据。

#### 协议

不要指定引入资源所带的具体协议。

当引入图片或其他媒体文件，还有样式和脚本时，URLs 所指向的具体路径，不要指定协议部分（http:, https:），除非这两者协议都不可用。

不指定协议使得 URL 从绝对的获取路径转变为相对的，在请求资源协议无法确定时非常好用，而且还能为文件大小节省几个字节。

#### 文本缩进
一次缩进两个空格。

#### 注释
注释是你自己与你的小伙伴们了解代码写法和目的的唯一途径。特别是在写一些看似琐碎的无关紧要的代码时，由于记忆点不深刻，注释就变得尤为重要了。

编写自解释代码只是一个传说，没有任何代码是可以完全自解释的。而代码注释，则是永远也不嫌多。

当你写注释时一定要注意：不要写你的代码都干了些什么，而要写你的代码为什么要这么写，背后的考量是什么。当然也可以加入所思考问题或是解决方案的链接地址。

#### 代码检查
对于比较宽松自由的编程语言来说，严格遵循编码规范和格式化风格指南就显得极为重要。遵循规范固然很好，但是有自动化流程来确保其执行情况，岂不更佳。

### 后端规范
#### 命名规范
##### 命名总规则

所有名称的字符范围为：A-Z, a-z, 0-9 和_(下划线)。不建议使用其他字符作为名称。
采用英文单词或英文短语（包括缩写）作为名称，不使用无意义的字符或汉语拼音。
名称应该清晰明了，能够准确表达事物的含义，最好可读，遵循“见名知意”的原则。
提倡英文命名，切忌英文和拼音混用。

##### 类库Namespace命名

类库分成三个层次，分别是.Net框架、公司基础公共类库、项目级类库。公共类库参照已有类库引用，以下主要对项目级Namespace命名提出参考建议：
- YesHJ.Ucenter 用户中心
- YesHJ.Cms 网站内容系统
- YesHJ.Class 网校
- YesHJ.Bulo 社区
- YesHJ.Shop 网店

命名空间建议： YesHJ.{ProductLine}.{Appname}.XXXX =>例如：YesHJ.Bulo.KaoDian.XXXX

##### 变量、方法命名

私有变量及方法参数使用camel命名（第一个词首字母用小写，其它词首字母用大写）
公共变量、方法、类使用Pascal命名（单词的首字母用大写）
公有变量尽量使用Property ，慎用Public Static变量；
变量命名要有意义：拒绝无意义的变量a，a1，b，k等；
典型的增删改查方法命名如下：比如获取GetUserList
用名词或名词短语命名属性；

##### 文件、文件夹命名

目录命名建议和Class命名要求一致，不要出现“_”和“小写”开头，已经用小写的不需要调整，保证命名空间的命名符合标准即可。
特殊或者系统文件夹可保持大写方式，比如App_Code、App_WebReferences等；
文件命名一般采用小写，应用加下划线方式命名。
页面的命名和Class命名要求一致，注意不要小写开头。

### Web服务
#### URL命名：

老的Api方式：app.hujiang().com.hjdns.net => {appName}.hjapi.hujiang.com (内部域名解析) 还有一些是使用 {appName}.yeshj.com

#### 传参：不要暴露参数类型和参数值

#### 类型和应用场景：

Web Service：传统用法，不宜调用太频繁。注意要有异常保护，即使不返回结果，也不要影响页面的其他功能，尽量用异步。
Rest Service：一般参数要保护；同样不宜调用太频繁。尽量用Json做数据格式。
WCF Service：适用于高安全、频繁调用，同时不能直接产生数据库关联的场景。

### 代码风格

#### 代码前置后置

代码前后端分离：(code-behind)
好处，逻辑比较清晰，容易进行重构。
缺点：发布、维护繁琐一些。

今后新项目必须采用代码后置(code-behind)，不要再使用单页面（single-page code ），特别是UserControl等需要复用的，自己在维护代码时，修改单页面程序时，要把它改成code-behind。

建议：

需要简化前台代码的数量和复杂度，必要时需要分离出独立的Service层，前端的C#代码仅仅用来做交互性的操作，不要包含太多复杂逻辑。
新项目尽量采用Web Application Project，不建议使用Web Site Project。

#### 注释

逻辑理解注释，采用//加注释语句
写在注释语句之前一行或者紧跟着注释语句后同一行
public,protect函数或者属性注释采用/// VS自动添加注释模式，
所有共有变量和共有方法都需要注释，类库中的protect和public的类要加类头注释

#### 书写格式

在程序代码间一般不要连续留空两行
如果一个函数的参数很多，要么一行全部输入，要么一行一个参数
不要用空格缩进，统一用制表符缩进
对于一些比较长的块，使用#region 和#endregion 来括起来
单行代码要 < 80个字符
C#代码中的SQL要排版，方便阅读和维护；格式：参照数据库开发规范。
【程序开发安全与性能策略】
参数检查 常见的像字符串参数，一般调用 String.IsNullOrEmpty函数来检查，或按照需要自己编写函数检查。 对于数字、电话号码、身份证号等检查采用公用类库方法进行服务器端检查。 对实体对象的ToString操作，一定要先做非空判断，或者调用Convert.ToString方法；
Sql注入防范 对外部传入参数进行合法性检查，比如传址、表单、cookies数据； 写数据库相关服务时，非特殊情况，必须使用参数化方式传递变量参数； 敏感表用存储过程操作，限制连接sql权限，只赋予Select以及存储过程执行权限更新数据；
对于数据库连接的策略是尽早释放，如SqlDataReader用完之后一般采用Using自动释放连接，或者要主动调用Close方法关闭连接。
对于连续的ID，要防范恶意用户做推测性的攻击行为： 可以使用Framework里面的FakeIDHelper、GuardIDHelper类进行伪装。
日志：

比较大的项目，我们需要选用Log4NET这样的比较成熟的日志组件。小一些的项目也可以使用.NET内置的System.Diagnostics里面的日志方法。
除了要建立ErrorLog日志之外，建议对每个后台服务的执行情况和执行时间做必要的监控： 可以写Log文件、数据库、远程日志服务等，但是要考虑尽量减少对性能的影响，增加可维护性。 特别是首次上线后，要通过监控，密切观察系统的运行情况，了解系统的性能瓶颈、产生原因等，方便对系统进行持续性优化。
