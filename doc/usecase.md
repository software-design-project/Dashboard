## 用例

### 正式用例

**范围**：用户检索

**级别**：用户目标

**主要参与者**：用户

**涉及及关注点**

- 用户：快捷且简便的获得旅游地点推荐，获得旅游地点的详细信息和介绍；可以查看未完成与已完成订单；自动检索、自动推荐功能；无弹窗广告；默认选取最有购买方式。
- 景区：热门景点置前；不同的栏目推荐不同的景点；保存一定的用户信息；付费推广景点置前；

**前置条件**：顾客必须下载该APP，顾客必须授权登陆。

**后置条件**：即时记录并传达购买信息，确认付款通道安全有保障，随时更新景点信息

**成功保证**：

1. 行程信息正确展示。  
2. 能够正确提供行程点之间的交通信息。
3. 能够根据交通信息正确地对行程排序。
4. 能够正确地在地图上展示行程点。
5. 搜索功能能快速正确地定位到特定行程点。

**基本流程**
1. 用户打开微信小程序，若未授权，则在授权后登陆
2. 用户通过检索或推荐，选择景点
3. 用户确认景点信息后，进入付款页面，并提供必要信息
4. 用户确认购买，进入付款详情界面
5. 用户核实无误后，进行支付操作
6. 景区更新信息，确定游客承载量

**扩展**

1. 用户进入购买详情界面后，强制退出。

    - 处理方法：清空数据库，默认不进行购买

2. 用户支付过程中，微信小程序闪退

    - 处理方法：强制中止支付，退还所有金额，将所有状态reset为初始状态

3. 未能检索到关键词
    - 处理方法：默认推荐热门景点，并在搜索栏下方注释：未能找到匹配景点
    
**特殊需求**

1. 支持文本显示的语言国际化。
2. 支持地图查看时的动态显示。
3. 在行程点与行程点之间的交通能够显示动态交通情况。
4. 提供多种在行程点与行程点之间的交通路线。
5. 能够选择多种根据历史用户喜好来对行程点进行排序。
6. 在搜索的时候更够更具个人喜好来实现智能推荐。

### Casual用例

#### Casual用例1：显示订单情况

**用例名称**：显示用户订单

**范围**：周末趣玩订单系统

**级别**：用户目标级别

**主要参与人员**：用户

**前置条件**：数据库记录了每个用户的订单情况

**后置条件**：成功显示所有订单信息

**主要成功场景**：

- 用户选择查看订单详情
- 显示出各订单信息

**扩展**：

- 用户断网，无法访问数据库
    - 处理方法：显示断网，并不停尝试访问数据库
- 数据库未能检索到用户信息
    - 处理方法：显示程序出错，删除原先为用户开辟的存储空间，并重新获取用户所有的基本信息，存储在新的空间中

#### Casual用例2：显示景区情况

**用例名称**：显示景区信息

**范围**：周末趣玩数据库

**级别**：用户目标级别

**主要参与人员**：景区管理人员

**前置条件**：数据库记录并分类了用户信息和订单信息

**后置条件**：成功显示该景区的所有用户信息和与之对应的订单信息

**主要成功场景**：

- 景区管理人员选择查看景区情况
- 显示用户信息和订单信息

**扩展**：

- 景区管理人员发现游客数量超额
    - 处理方法：停止各个放票渠道，景区进入紧张情况
- 无法返回景区情况
    - 处理方法：立刻向数据库报错，并尝试恢复

### 扫描购票brief用例

 1. Use case：购买
    - Actors：客户
    - Type：Primary
    -  Description：用户授权进入微信小程序，选择符合自身要求的景区后，进行一系列的订单操作。
 2. Use case：查看信息
    - Actors：客户
    -  Type：Primary
    - Description：用户查看未完成/已完成的购买信息
 3. Use case：管理订单
    - Actors：景区
    - Type：Primary
    - Description：景区收到购买信息后，更新数据库，存储用户基本信息，并确认是否超过景区极限负载。如果超过，则返回信息给微信小程序，进行退款操作
